# Qdrant configuration

apiVersion: v1
kind: ConfigMap
metadata:
  name: qdrant-config
  namespace: vector-db
data:
  config.yaml: |
    log_level: INFO

    storage:
      # Storage path (mounted from PVC)
      storage_path: /qdrant/storage

      # Enable WAL for durability
      wal:
        wal_capacity_mb: 32
        wal_segments_ahead: 0

      # Performance tuning
      performance:
        max_search_threads: 0  # Auto-detect
        max_optimization_threads: 1

      # HNSW index parameters
      hnsw_index:
        m: 16
        ef_construct: 100
        full_scan_threshold: 10000

      # Quantization for memory efficiency (optional)
      quantization:
        scalar:
          type: int8
          always_ram: true

    service:
      host: 0.0.0.0
      http_port: 6333
      grpc_port: 6334
      enable_tls: false

    cluster:
      enabled: true
      p2p:
        port: 6335
      consensus:
        tick_period_ms: 100

    telemetry:
      disabled: false
---
apiVersion: v1
kind: Namespace
metadata:
  name: vector-db
  labels:
    name: vector-db
